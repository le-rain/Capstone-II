% Call this function to find peaks for audio files
function [audio, peaks, nSamples, y, Fs, minDist] = findAudioPeaks(audio, bpm)

% Values (y) and sample rate (Fs) for file 
[y, Fs] = audioread(audio);

% Find minimum peak distance with bpm
minDist = (60/bpm - 0.05) * Fs;

% Use second channel/right channel and square audio values
y = y(:,2).^2;

% Find peaks with minimum distance of entered BPM
[peaks, nSamples] = findpeaks(y, 'MinPeakDistance', minDist);

end